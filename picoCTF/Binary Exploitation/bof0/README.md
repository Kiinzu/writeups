# buffer overflow 0
## Overview 
Points: 100  
Category: Binary Exploitation

## Description
Smash the stack Let's start off simple, can you overflow the correct buffer? The program is available [here](). You can view source [here](./vuln.c). And connect with it using: 
`nc saturn.picoctf.net 61481`

## Hints

1. How can you trigger the flag to print?
2. If you try to do the math by hand, maybe try and add a few more characters. Sometimes there are things you aren't expecting.
3. Run `man gets` and read the BUGS section. How many characters can the program really read?

## Solution

First we can observe the `vuln()` function and the `main()`.

```c
// vuln
void vuln(char *input){
  char buf2[16];
  strcpy(buf2, input);
}
```

```c
// part of main()
  char buf1[100];
  gets(buf1); 
  vuln(buf1);
```

Now let's see the description carefully, it told us to `smash the stack`. From here let's learn something called `stack smashing` in Binary Exploitation, what is actually `Stack Smashing`?

Stack smashing is when a buffer that being send to the binary is exceeding the maximum capacity the binary can handle, in this case we are going to learn the vulnerability in `gets()` function in C. If we try to do `man gets` in our terminal and read the BUGS section we can see that it's recommended not to use this function since we can't really control/know how many bytes it will actually take.

From `main()` we can see there is a declaration of `buf1[100]`, which mean tthe maximum capacity of buf1 char is 100 char, but again let's see the next line, after it gets the data for buf1, then it called vuln function with input value of "buf1", **BUT** look carefully at `vuln()`. It can only contain 16 char, which mean, if you input under 16 char it won't do anything since it's now overflowing, but what happened if you put more than 16, let's say 20?

```
Input: aaaabbbbccccddddeeeeffff
I_PWNED_IT!
```

what's that? there are no `"The program will exit now"`, instead we got `"I_PWNED_IT!"`. What you guys just did now is called buffer overflow. It happened when you put more data that it can actually contain, it can only contain 16, but we give it 24, that cause the buffer overflow, and this trigger the `flag.txt` to be printed instead of the exit warning.

With this knowledge that you have now, go connect to the nc and get the flag.. :relaxed:


## Flag

```picoCTF{ov3rfl0ws_ar3nt_that_bad_ef7314c6}```                                                  
